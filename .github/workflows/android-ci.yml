#name: Android CI
#
#on:
#  push:
#    branches:
#      - main
#  pull_request:
#    branches:
#      - main
#
#jobs:
#  build:
#
#    runs-on: ubuntu-latest
#
#    steps:
#      - name: Checkout code
#        uses: actions/checkout@v2
#
#      - name: Set up JDK
#        uses: actions/setup-java@v1
#        with:
#          java-version: '11'
#
#      - name: Install Android SDK
#        run: |
#          sudo apt-get update
#          sudo apt-get install -y wget unzip
#          wget https://dl.google.com/android/repository/commandlinetools-linux-9477386_latest.zip -O commandlinetools.zip
#          mkdir -p $ANDROID_HOME/cmdline-tools
#          unzip commandlinetools.zip -d $ANDROID_HOME/cmdline-tools
#          mv $ANDROID_HOME/cmdline-tools/cmdline-tools $ANDROID_HOME/cmdline-tools/latest
#          yes | $ANDROID_HOME/cmdline-tools/latest/bin/sdkmanager --licenses
#          $ANDROID_HOME/cmdline-tools/latest/bin/sdkmanager "platform-tools" "platforms;android-29" "build-tools;29.0.3"
#        env:
#          ANDROID_HOME: $HOME/android-sdk
#
#      - name: Cache Gradle dependencies
#        uses: actions/cache@v2
#        with:
#          path: |
#            ~/.gradle/caches
#            ~/.gradle/wrapper
#          key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle*', '**/gradle-wrapper.properties') }}
#          restore-keys: ${{ runner.os }}-gradle
#
#      - name: Download dependencies
#        run: ./gradlew build --stacktrace
#
#      - name: Run unit tests
#        run: ./gradlew test
#
#      - name: Run UI tests
#        run: ./gradlew connectedAndroidTest
